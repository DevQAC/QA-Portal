<div class="qa-app-title">
  Trainer - Course Feedback
</div>

<div style="display: flex; justify-content: center; margin-top: 20px">
  <mat-spinner [diameter]="70" *ngIf="!dataLoaded"></mat-spinner>
</div>

<div *ngIf="dataLoaded">
  <mat-horizontal-stepper #stepper style="margin-bottom: 20px;">
    <mat-step *ngFor="let categoryResponse of this.viewModel.categoryResponses; let i = index">
      <ng-template matStepLabel>{{categoryResponse.questionCategory.categoryName}}</ng-template>
      <app-qa-form [model]="[categoryResponse.questionCategory]" (modelChange)="this.viewModel.categoryResponses[i].questionCategory = $event[0]">
        <div style="display: flex;" position="last">
          <button style="margin-right: auto" [disabled]="!stepper.selectedIndex > 0" mat-raised-button
            matStepperPrevious>
            Back
          </button>
          <p style="margin: 0">9 = Strongly Agree, 0 = Strongly Disagree</p>
          <button style="margin-left: auto" [disabled]="stepper.selectedIndex == this.viewModel.categoryResponses.length-1" mat-raised-button
                  matStepperNext>Next
          </button>
          <!-- <button style="margin-left: 15px" *ngIf="stepper.selectedIndex > 0" mat-raised-button
                      (click)="stepper.reset()">First
                    </button> -->
        </div>
      </app-qa-form>
    </mat-step>
  </mat-horizontal-stepper>

  <div class="qa-feedback-page-action-container">
    <button mat-raised-button (click)="saveFeedback()">Save</button>
  </div>
</div>
