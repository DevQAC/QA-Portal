<div class='trainer-reflection'>
  <div class='self-reflection-heading'>
    <h5 class='title'>
      <span class='trainee-firstname'>{{trainee.firstName}}</span>&nbsp;<span
        class='trainee-lastname'>{{trainee.lastName}}</span>&nbsp;Self&nbsp;Reflection&nbsp;Form
    </h5>
  </div>
  <div *ngIf='loaded; else noSelfReflections'>
    <div class='grids-wrapper'>
      <div class='grids-container' [style.height]='(393 + (reflections.length * 60)) + "px"'>
        <mat-grid-list rowHeight='100%' *ngFor='let rows of rowData' cols='8'
          [style.width]='(1 / rowData.length * 100) + "%"'>
          <mat-grid-tile colspan='8'>
            <div class='header-container'>
              <span class='header'>{{ rows.category }}</span>
            </div>
            <div class='question-container'>
              <span *ngFor='let question of rows.questions' [style.width]='(1 / rows.questions.length * 100) + "%"'
                class='question'>{{ question.body }}</span>
            </div>
            <div class='author-wrapper'>
              <div class='author-container' *ngFor='let question of rows.questions'
                [style.width]='(1 / rows.questions.length * 100) + "%"'>
                <span *ngFor='let author of authors' class='author' [style.width]='"50%"'>
                  {{author}}
                </span>
              </div>
            </div>
            <div class='response-wrapper'>
              <div *ngFor='let question of rows.questions' [style.width]='(1 / rows.questions.length * 100) + "%"'
                class='response-container'>
                <span *ngFor='let reflectionQuestion of question.reflectionQuestions' [style.width]='(50) + "%"'>
                  <!-- Trainee -->
                  <input type='number' [(ngModel)]='reflectionQuestion.response'
                    [disabled]='reflectionQuestion.id === null || disableInputs' [style.width]='(50) + "%"'
                    class='response' />
                  <!-- Trainer -->
                  <input type='number' [(ngModel)]='reflectionQuestion.trainerResponse'
                    [disabled]='reflectionQuestion.id === null || disableInputs' [style.width]='(50) + "%"'
                    class='response' />
                </span>
              </div>
            </div>
          </mat-grid-tile>
        </mat-grid-list>
      </div>
      <div class='save-button-container'>
        <app-save-button [disabled]='disableInputs' (save)='saveReflectionQuestions()'></app-save-button>
      </div>
    </div>
    <div class='trainer-textareas'>
      <div class='trainer-comments'>
        <app-comment-box (save)='saveTrainerComments()' [title]='"Trainer Comments"' [comments]='trainerComments'>
        </app-comment-box>
      </div>
      <div class='learning-pathway'>
        <app-comment-box (save)='saveLearningPathway()' [title]='"Learning Pathway"' [comments]='learningPathway'>
        </app-comment-box>
      </div>
    </div>
  </div>
  <ng-template #noSelfReflections>
    <div>
      <span>{{statusMessage}}</span>
    </div>
  </ng-template>
</div>
